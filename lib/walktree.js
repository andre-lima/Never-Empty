"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function walkTree(e){function r(e){_fs2.default.readdir(e,function(n,o){if(n)throw new Error("Failed to read the directory at: "+e);var u=0;if(o.forEach(function(n){var o=_path2.default.join(e,n);if(!i.includes(n)&&_fs2.default.existsSync(o)){var l=_fs2.default.statSync(o);l.isDirectory()?(t&&a&&u++,r(o)):l.isFile()&&(u++,t||n!==f||_fs2.default.unlink(o))}}),t&&0===u){var l=_path2.default.join(e,f);_fs2.default.open(l,"w",function(e,r){if(e)throw new Error("Encountered an error while creating a file: "+l);_fs2.default.close(r)})}})}var t=e.create,i=e.ignore,a=e.countFoldersAsFiles,f=e.file;r(e.root)}var _fs=require("fs"),_fs2=_interopRequireDefault(_fs),_path=require("path"),_path2=_interopRequireDefault(_path);module.exports=walkTree;